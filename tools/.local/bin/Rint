#!/usr/bin/env python
import pexpect
import sys

if len(sys.argv) < 2:
	print("Usage: Rint script.R [args...]")
	sys.exit(1)

rargs = sys.argv[2:]
p = pexpect.spawn("R --quiet --no-save --args "+" ".join(rargs))
for l in open(sys.argv[1]):
	p.send(l)
p.interact()
